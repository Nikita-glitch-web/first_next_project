(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{977:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-up",function(){return n(9271)}])},6390:function(e,r,n){"use strict";n.d(r,{I:function(){return _}});var t=n(5893);n(7294);var a=n(3967),s=n.n(a),o=n(9542),i=n.n(o);let _=e=>{let{errorMessage:r,value:n,type:a,placeholder:o,onFocus:_,onBlur:l,onChange:m,name:c,tooltip:d}=e,p="".concat(c+Date.now());return(0,t.jsxs)("div",{className:i().input_wrapper,children:[(0,t.jsxs)("div",{className:i().form_group,children:[(0,t.jsx)("input",{type:a,id:p,className:s()(i().form_field,{[i().notValid]:r}),placeholder:o,onFocus:_,onChange:m,onBlur:l,value:n,name:c}),(0,t.jsx)("label",{htmlFor:p,className:i().form_label,children:o})]}),r&&(0,t.jsx)("span",{className:i().error_message,children:r}),d&&(0,t.jsx)("span",{className:i().tooltip,children:d})]})}},9839:function(e,r,n){"use strict";n.d(r,{p:function(){return l}});var t=n(5893);n(7294);var a=n(7664),s=n.n(a),o={src:"/interview_work//_next/static/media/Preloader.bae432ed.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAflBMVEUA2dAAxtUAw+EAvdIAvNUAvNMAvNIAu9IAwKkAtdoAt88AttAAstIAAAAAvNMAvNIAvdMAvdIAvNMAvNIAvdIAvNIAvdMAvdIAvNIAvdMAvdIAvNIAvdMAvNIAvNIAvNIAvNIAvdMAvNIAvdMAvNMAvNIAvNIAvdMAvdIAvNKxTyD8AAAAKnRSTlMAAAAAAAAAAAAAAAAAAAEBAgICAgUwMTIyRkZGSEiwwsbHx8jIyMvR0dGvINlnAAAAR0lEQVR42gVACRZAIBD9ZLIrCiGVnftf0EMtmHb3wCGIl/H6jWBEqeSLh66oEF2+w0WyaVqcuGZSimxA/9gsmV4DZsKxecN/llIEmwdzxhcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},i=n(5675),_=n.n(i);let l=()=>(0,t.jsx)("div",{className:s().preloader,children:(0,t.jsx)(_(),{className:s().loader,src:o,alt:""})})},5001:function(e,r,n){"use strict";var t=n(7294);r.Z=function(e,r){let[n,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null);return{makeRequest:async n=>{a(!0),o(null);try{let t=await fetch(e,{method:r,headers:{Accept:"application/json",..."GET"!==r&&{"Content-Type":"application/json"}},..."GET"!==r&&n&&{body:JSON.stringify(n)}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){o(e.message||"Something went wrong")}finally{a(!1)}},loading:n,error:s}}},9271:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return B}});var t=n(5893),a=n(7294),s=n(3967),o=n.n(s),i=n(870),_=n.n(i),l=n(5507),m=n(6390),c=n(6627),d=n.n(c),p=n(9542),u=n.n(p);let h=e=>{let{value:r,onFocus:n,onBlur:a,onChange:s,name:o,...i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(d(),{mask:"+380 (99) 999-99-99",value:r,onFocus:n,onBlur:a,onChange:s,name:o,children:e=>(0,t.jsx)(m.I,{...e,...i,placeholder:"Phone"})}),(0,t.jsx)("label",{className:u().label_phone,htmlFor:"phone",children:"+38 (XX) XXX - XX - XX"})]})};var b=n(8563),g=n.n(b);let A=e=>{let{position:r,selectedPosition:n,onChange:a}=e;return r?(console.log(">>>>>",n,r.name,r),(0,t.jsxs)("label",{className:g().pure_material_radio,children:[(0,t.jsx)("input",{type:"radio",value:r.id,name:"group",checked:n===String(r.id),onChange:e=>{a&&a(e.target.value)},className:g().radio_buttons__input}),(0,t.jsx)("span",{className:g().radio_buttons__span,children:r.name})]},r.id)):null};var x=n(9839),v=n(5066),f=n(5484),N=e=>{let{validTypes:r=["image/jpeg","image/jpg","image/png"],maxSize:n=5242880,minWidth:t=200,minHeight:s=200,maxWidth:o=5e3,maxHeight:i=5e3}=e,[_,l]=(0,a.useState)(""),[m,c]=(0,a.useState)(""),d=e=>new Promise((r,n)=>{let t=new Image;t.onload=()=>r(!0),t.onerror=()=>n(Error("Invalid image")),t.src=URL.createObjectURL(e)}),p=e=>new Promise((r,n)=>{let a=new Image;a.onload=()=>{a.width<t||a.height<s?n(Error("Image size should be at least ".concat(t,"x").concat(s,"px"))):a.width>o||a.height>i?n(Error("Image size should not exceed ".concat(o,"x").concat(i,"px"))):r(!0)},a.onerror=()=>n(Error("Invalid image.")),a.src=URL.createObjectURL(e)});return{imageError:_,fileName:m,handleFileChange:(0,a.useCallback)(async(e,t)=>{if(e){if(!r.includes(e.type)){l("Only JPG and PNG images are allowed."),t("photo",null);return}if(e.size>n){l("Image size shouldn't exceed 5MB."),t("photo",null);return}try{await d(e),await p(e),t("photo",e),c(e.name),l("")}catch(e){l(e.message),t("photo",null)}}},[r,n,t,s,o,i])}},w=n(5001),j=n(1259);let I=(0,n(3977).ZF)({apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}),F=(0,j.v0)(I),y=(0,n(4529).ZP)(e=>({user:null,setUser:r=>e({user:r})})),S=()=>{let e=(0,a.useRef)(null),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),{imageError:p,fileName:u,handleFileChange:b}=N({}),{setUser:g}=y(),{makeRequest:I,loading:S,error:M}=(0,w.Z)("https://frontend-test-assignment-api.abz.agency/api/v1/users","POST"),{makeRequest:E,loading:T,error:R}=(0,w.Z)("https://frontend-test-assignment-api.abz.agency/api/v1/positions","GET");(0,a.useEffect)(()=>{(async()=>{try{let e=await E();if(e.positions&&(n(e.positions),e.positions.length>0)){let r=e.positions[0].id;i(String(r)),q("position",r)}}catch(e){console.error("Ошибка при получении позиций:",R)}})()},[]);let U=f.Ry({name:f.Z_().min(3,"Имя должно содержать минимум 3 символа").required("Имя обязательно"),email:f.Z_().matches(/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,3}$/,"Должно содержать '@' и доменное имя").required("Электронная почта обязательна"),phone:f.Z_().min(3,"Телефон должен содержать минимум 3 символа").required("Телефон обязателен"),position:f.Z_().required("Позиция обязательна"),photo:f.nK().required("Фото обязательно")}),{values:C,errors:k,touched:B,handleChange:P,handleBlur:O,handleSubmit:D,setFieldValue:q,isValid:z,dirty:L}=(0,v.TA)({initialValues:{name:"",email:"",phone:"",position:s,photo:null},validationSchema:U,onSubmit:async(e,r)=>{let{setFieldError:n}=r,t=new FormData;t.append("name",e.name),t.append("email",e.email),t.append("phone",e.phone),t.append("position_id",s),t.append("photo",e.photo);try{let r=(await (0,j.Xb)(F,e.email,e.phone)).user;g(r),await I(t),d(!0)}catch(e){n("email",e.message||"Ошибка при регистрации")}}});return(0,t.jsx)(t.Fragment,{children:S||T?(0,t.jsx)(x.p,{}):c?(0,t.jsxs)("div",{className:_().success_screen,children:[(0,t.jsx)("h4",{className:_().success_title,children:"User successfully registered"}),(0,t.jsx)("img",{src:"./images/Success.png",alt:"Success",className:_().success_img})]}):(0,t.jsxs)("form",{className:_().form,id:"signUpForm",onSubmit:D,children:[(0,t.jsx)("h3",{className:_().form_title,children:"Working with POST request"}),(0,t.jsxs)("div",{className:_().form_content_wrapper,children:[(0,t.jsx)(m.I,{id:"name",value:C.name,type:"text",placeholder:"Your name",onChange:P,onBlur:O,name:"name",errorMessage:B.name&&k.name}),(0,t.jsx)(m.I,{id:"email",value:C.email,type:"email",placeholder:"Email",onChange:P,onBlur:O,name:"email",errorMessage:B.email&&k.email}),(0,t.jsx)(h,{id:"phone",value:C.phone,type:"tel",placeholder:"Phone",onChange:P,onBlur:O,name:"phone",errorMessage:B.phone&&k.phone}),(0,t.jsxs)("div",{className:_().radio_wrapper,children:[(0,t.jsx)("h2",{className:_().radio_buttons__title,children:"Select your position"}),r.map(e=>(0,t.jsx)(A,{position:e,selectedPosition:s,onChange:e=>{i(e),q("position",e)}},e.id))]}),(0,t.jsxs)("div",{className:o()(_().upload_container,{[_().error_border]:p}),children:[(0,t.jsx)("button",{type:"button",onClick:()=>{e.current&&e.current.click()},className:o()(_().upload_button,{[_().error_btn_input]:p}),children:"Upload"}),(0,t.jsx)("input",{ref:e,className:_().img_input,type:"file",name:"photo",onChange:e=>{var r;let n=null===(r=e.target.files)||void 0===r?void 0:r[0];n&&b(n,q)},onBlur:O,style:{display:"none"}}),(0,t.jsx)("div",{className:_().image_preview_container,children:u?u.length<=20?u:"".concat(u.substring(0,7),"...").concat(u.substring(u.length-10)):"Upload your photo"}),p&&(0,t.jsx)("div",{className:_().error_message,children:p})]}),(M||R)&&(0,t.jsx)("div",{className:_().error_message,children:M||R}),(0,t.jsx)("div",{className:_().form_btn_wrapper,children:(0,t.jsx)(l.z,{type:"submit",disabled:!z||!L||S,className:_().btn_submit,children:"Sign up"})})]})]})})};var M=n(8792),E=n.n(M),T=n(3834);let R=()=>(0,t.jsx)("div",{className:E().banner_content_box,children:(0,t.jsx)("div",{className:E().banner_content,children:(0,t.jsxs)("div",{className:E().banner_text_box,children:[(0,t.jsx)("h1",{className:E().banner_title,children:"Test assignment for front-end developer"}),(0,t.jsx)("p",{className:E().bannner_text,children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as theyll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),(0,t.jsx)(T.z,{href:"#signUpForm",className:o()(E().banner_btn),children:"Sign up"})]})})});var U=n(1384),C=n.n(U);let k=()=>{let[e,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(1),[i,_]=(0,a.useState)(!1),[m,c]=(0,a.useState)(null),[d,p]=(0,a.useState)(!0);(0,a.useEffect)(()=>{u(n)},[]);let u=async e=>{_(!0);try{let n=await fetch("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=".concat(e,"&count=6")),t=await n.json();t.users.length>0?r(e=>[...e,...t.users]):p(!1),_(!1)}catch(e){c(e),_(!1)}},h=e=>{e.currentTarget.src="https://via.placeholder.com/80",e.currentTarget.className=C().member_photo};return(0,t.jsxs)("div",{id:"teamMembers",className:C().team_members,children:[(0,t.jsx)("h2",{className:C().members_title,children:"Working with GET request"}),(0,t.jsx)("div",{className:C().members_grid,children:(0,t.jsx)("ul",{className:C().members_list,children:e.map((e,r)=>(0,t.jsx)("li",{className:C().member_card,children:(0,t.jsxs)("div",{className:C().member_text_wrapper,children:[(0,t.jsx)("img",{src:e.photo,alt:e.name,className:o()(C().member_photo,{[C().error_photo]:!e.photo}),onError:h}),(0,t.jsx)("p",{className:C().member_title,children:e.name}),(0,t.jsx)("p",{className:C().member_text,children:e.position}),(0,t.jsx)("p",{className:C().member_text,children:e.email}),(0,t.jsx)("p",{className:C().member_text,children:e.phone})]})},r))})}),i&&(0,t.jsx)(x.p,{}),m&&(0,t.jsxs)("div",{children:["Error: ",m.message]}),(0,t.jsx)("div",{className:C().btn_wrapper,children:d&&!i&&(0,t.jsx)(l.z,{onClick:()=>{s(e=>e+1),u(n+1)},children:"Show more"})})]})};function B(){return(0,t.jsxs)("div",{children:[(0,t.jsx)(R,{}),(0,t.jsx)(k,{}),(0,t.jsx)(S,{})]})}},7664:function(e){e.exports={loader:"Preloader_loader__oAWgc",preloader:"Preloader_preloader__qCJfx"}},8792:function(e){e.exports={banner_content_box:"LandingBanner_banner_content_box___MUac",banner_content:"LandingBanner_banner_content__T8CwB",banner_title:"LandingBanner_banner_title__s6Osy",bannner_text:"LandingBanner_bannner_text__QCdIK",banner_text_box:"LandingBanner_banner_text_box__uEwiB",banner_btn:"LandingBanner_banner_btn__gRNqg"}},1384:function(e){e.exports={body:"TeamMembers_body__D2kMy",members_grid:"TeamMembers_members_grid__zFe25",members_list:"TeamMembers_members_list__ADlMd",member_card:"TeamMembers_member_card__IHVys",member_photo:"TeamMembers_member_photo__Qjp9a",members_title:"TeamMembers_members_title__3ar2V",member_text_wrapper:"TeamMembers_member_text_wrapper__huZ1D",member_text:"TeamMembers_member_text__98UDU",btn_wrapper:"TeamMembers_btn_wrapper__XzUwa",member_title:"TeamMembers_member_title__FP5SP"}},870:function(e){e.exports={form:"Form_form__ngj4g",form_title:"Form_form_title__dCWru",form_content_wrapper:"Form_form_content_wrapper__HM9kw",upload_container:"Form_upload_container__IrOC3",upload_button:"Form_upload_button__ZM9hq",image_input_wrapper:"Form_image_input_wrapper__I9iyQ",image_preview:"Form_image_preview__h6nM4",radio_buttons__title:"Form_radio_buttons__title__j0cTx",form_label:"Form_form_label__HWyrw",form_input:"Form_form_input__5FFsH",form_input_last:"Form_form_input_last__vORmL",img_input:"Form_img_input__KKpRV",form_btn_wrapper:"Form_form_btn_wrapper__N5Y1U",submit_btn:"Form_submit_btn__DCVdI",checkbox_title:"Form_checkbox_title__tEKmk",custom_radio:"Form_custom_radio__8JbuK",btn_wrapper:"Form_btn_wrapper__afl7_",success_img:"Form_success_img__5Jgj4",input_error:"Form_input_error__5rPD2",radio_wrapper:"Form_radio_wrapper__iFhCg",success_screen:"Form_success_screen__2FU8r",success_title:"Form_success_title__CnrbL",radio_button:"Form_radio_button__oEztS",image_preview_container:"Form_image_preview_container__JUUWb",placeholder:"Form_placeholder__SiFjP",error_message:"Form_error_message__M61_N",file_name:"Form_file_name__GCzYd",error_border:"Form_error_border__RFqnW",error_btn_input:"Form_error_btn_input__p7_Ch"}},9542:function(e){e.exports={input_wrapper:"Input_input_wrapper__9IHkD",form_group:"Input_form_group__bmwLs",form_field:"Input_form_field__TNA8t",notValid:"Input_notValid__r9ktJ",form_label:"Input_form_label__R6kM2",label_phone:"Input_label_phone__SRJI1",error_message:"Input_error_message__B_P0F",tooltip:"Input_tooltip__Avmrq"}},8563:function(e){e.exports={radio_buttons:"RadioButton_radio_buttons__SWJuP",pure_material_radio:"RadioButton_pure_material_radio__6oqS7",radio_buttons_title:"RadioButton_radio_buttons_title__4J8wj"}}},function(e){e.O(0,[939,624,737,888,774,179],function(){return e(e.s=977)}),_N_E=e.O()}]);